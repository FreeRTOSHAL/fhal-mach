:%s/  \([A-Za-z0-9_]*\)_IRQn[ ]*= \([-0-9u]*\),[ ]*\(\/[()\[\]A-Za-z0-9\-*< ',/.]*\*\/\)/void \1_isr(void); \3/c
:%s/  \([A-Za-z0-9_]*\)_IRQn[ ]*= \([-0-9u]*\),[ ]*\(\/[()\[\]A-Za-z0-9\-*< ',/.]*\*\/\)/void WEAK ALIAS(dummy_handler) \1_isr(void); \3/c
:%s/  \([A-Za-z0-9_]*\)_IRQn[ ]*= \([-0-9u]*\),[ ]*\(\/[()\[\]A-Za-z0-9\-*< ',/.]*\*\/\)/[\1_IRQn] = \1_isr, \3/c
:let n=[-1]| %s/\(PT[A-E][0-9]*\),/\=''.submatch(1).' = '.map(n,'v:val+1')[0].','/gc
